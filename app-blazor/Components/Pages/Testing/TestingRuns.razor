@page "/testing"

<h1>Testing Runs</h1>

<div class="row g-4">
    <div class="col-12 col-lg-7">
        <div class="table-responsive">
            <table class="table table-striped align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Run Id</th>
                        <th>Type</th>
                        <th>Status</th>
                        <th>Executed</th>
                        <th>Survey</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var run in Runs)
                    {
                        <tr>
                            <td>@run.RunId</td>
                            <td>@run.RunType</td>
                            <td><span class="badge @run.StatusBadge">@run.Status</span></td>
                            <td>@run.ExecutedOn.ToString("yyyy-MM-dd")</td>
                            <td>@run.Survey</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-12 col-lg-5">
        <div class="card">
            <div class="card-header">Run Details</div>
            <div class="card-body">
                <div><strong>Run Id:</strong> TEST-401</div>
                <div><strong>Coverage:</strong> 96%</div>
                <div><strong>Failures:</strong> 3</div>
                <div><strong>Notes:</strong> Address validation checks failed on 3 records.</div>
                <button class="btn btn-outline-secondary mt-3" type="button">View Full Log</button>
            </div>
        </div>
    </div>
</div>

@code {
    private record TestRun(string RunId, string RunType, string Status, string StatusBadge, DateTime ExecutedOn, string Survey);

    private readonly List<TestRun> Runs = new()
    {
        new("TEST-401", "Automated", "Passed", "bg-success", new DateTime(2026, 1, 15), "1001 Crop Yield"),
        new("TEST-402", "Manual", "Attention", "bg-warning text-dark", new DateTime(2026, 1, 14), "1002 ACP"),
        new("TEST-403", "Automated", "Failed", "bg-danger", new DateTime(2026, 1, 13), "1209 IWU")
    };
}
